name = "beauty-app"
compatibility_date = "2025-01-01"
pages_build_output_dir = "dist"

# ============================================================
# D1 Database binding (production)
# ============================================================
# ローカル開発時は Miniflare が自動的にローカルDBを使用
[[d1_databases]]
binding = "DB"
database_name = "beauty-app-db"
database_id = "placeholder-replace-after-creation"

# ============================================================
# R2 Storage binding (production)
# ============================================================
# ローカル開発時は Miniflare が自動的にローカルストレージを使用
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "beauty-app-photos"

# ============================================================
# Preview environment (develop ブランチ / PR プレビュー)
# ============================================================
# Cloudflare Pages は "preview" と "production" のみサポート
[env.preview]
name = "beauty-app-preview"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "beauty-app-preview-db"
database_id = "placeholder-replace-after-creation"

[[env.preview.r2_buckets]]
binding = "BUCKET"
bucket_name = "beauty-app-preview-photos"
