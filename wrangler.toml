name = "beauty-app"
compatibility_date = "2025-01-01"
pages_build_output_dir = "dist"

# ============================================================
# D1 Database binding (production)
# ============================================================
# ローカル開発時は Miniflare が自動的にローカルDBを使用
[[d1_databases]]
binding = "DB"
database_name = "beauty-app-db"
database_id = "f2836e4f-ba61-4895-8e5f-d4402cacd8ad"

# ============================================================
# R2 Storage binding (production)
# ============================================================
# ローカル開発時は Miniflare が自動的にローカルストレージを使用
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "beauty-app-photos"

# ============================================================
# Preview environment (develop ブランチ / PR プレビュー)
# ============================================================
# TODO: preview用D1作成後にコメント解除し、database_idを設定する
# [env.preview]
# name = "beauty-app-preview"
#
# [[env.preview.d1_databases]]
# binding = "DB"
# database_name = "beauty-app-preview-db"
# database_id = "placeholder-replace-after-creation"
#
# [[env.preview.r2_buckets]]
# binding = "BUCKET"
# bucket_name = "beauty-app-preview-photos"
